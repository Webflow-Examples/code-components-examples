---
import Layout from "../layouts/Layout.astro";
import StoreLocatorDemo from "../components/StoreLocator/StoreLocatorDemo.tsx";

const apiBaseUrl = Astro.locals.runtime.env.PUBLIC_BETTER_AUTH_URL + import.meta.env.BASE_URL;
---

<Layout title="Store Locator Demo">
  <main>
    <div class="prose">
      <h1>Store Locator Component Demo</h1>
      <p>
        This page provides a live preview of the <code>StoreLocator</code> React component. It's configured to run against your local development server.
      </p>
      <p>
        To use this in a production Webflow site, you must first deploy this backend to Webflow Cloud, complete the configuration at <a href="/map/setup">/setup</a>, and use the generated token in the component's props in the Webflow Designer.
      </p>
    </div>
    <div class="store-locator-wrapper">
      <StoreLocatorDemo client:only="react" apiBaseUrl={apiBaseUrl} />
    </div>
  </main>
</Layout>

<style>
  .prose {
    max-width: 65ch;
    margin: 0 auto 2rem auto;
    padding: 0 2rem;
    text-align: center;
  }
  .prose a {
    color: #3245ff;
    text-decoration: none;
  }
  .prose a:hover {
    text-decoration: underline;
  }
  .store-locator-wrapper {
    width: 100%;
    height: 80vh;
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
  }
</style>
